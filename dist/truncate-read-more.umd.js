(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".readmore__content[data-v-d0683042]{hyphens:auto;word-break:break-word;transition:height .5s ease-in-out;overflow:hidden;overflow-anchor:none}.truncate-read-more__button[data-v-d0683042]{display:inline-block;cursor:pointer}.fade-enter-active[data-v-d0683042],.fade-leave-active[data-v-d0683042]{transition:opacity .3s}.fade-enter[data-v-d0683042],.fade-leave-to[data-v-d0683042]{opacity:0}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(H,a){typeof exports=="object"&&typeof module<"u"?a(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],a):(H=typeof globalThis<"u"?globalThis:H||self,a(H.TruncateReadMore={},H.Vue))})(this,function(H,a){"use strict";var K={};Object.defineProperty(K,"__esModule",{value:!0});var ce=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Y=["address","article","aside","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tbody","tfoot","thead","tr","ul","video"],D=["audio","math","svg","video"],R=10,fe=33,de=34,ue=38,ve=39,V=47,z=59,W=60,_e=61,I=62,me=/[<&\n\ud800-\udbff]/,pe=/[<&\ud800-\udbff]/,Ee=/\s+/g;function He(e,t,i){return i===void 0&&(i={}),e?(e=e.toString(),i.html?Te(e,t,i):Ce(e,t,i)):""}var be=K.default=He;function Te(e,t,i){for(var l=i.imageWeight,s=l===void 0?2:l,d=i.indicator,u=d===void 0?"…":d,y=i.maxLines,p=y===void 0?1/0:y,h=i.stripTags,g=h===void 0?!1:h,o=u.length,v=1,E=typeof g=="boolean"?function(){return g}:function(T){return g.includes(T)},f=[],b=function(T){for(var $;$=f.pop(),$!==void 0;)E($)||(T+="</"+$+">");return T},r=0,_=-1,ee=e.length;r<ee;r++){var k=r?e.slice(r):e,te=Me(f),$e=_>-1||te?pe:me,N=k.search($e),w=N>-1?N:k.length;if(_===-1){if(te){var M=Ae(w===k.length?k:k.slice(0,N));if(E(f[f.length-1])){var re=r>0&&!C(e.charCodeAt(r-1)),ie=!C(e.charCodeAt(r+w));M.length>0?M=(re?" ":"")+M+(ie?" ":""):re&&ie&&(M=" "),e=e.slice(0,r)+M+e.slice(r+w),w=M.length}if(o+=M.length,o>t)break}else if(o+=w,o>t){r=Math.max(r+w-o+t,0);break}}if(r+=w,N===-1)break;var m=e.charCodeAt(r);if(m===W){var F=e.charCodeAt(r+1),ae=F===fe;if(ae&&e.substr(r+2,2)==="--"){var ze=e.indexOf("-->",r+4)+3;r=ze-1}else if(ae&&e.substr(r+2,7)==="[CDATA["){var Ie=e.indexOf("]]>",r+9)+3;r=Ie-1}else{var X=F===V;if(o===t&&!X){o++;break}for(var x=0,c=r,O=!1;;){if(c++,c>=ee)throw new Error("Invalid HTML: "+e);var S=e.charCodeAt(c);if(O)x?S===x&&(O=!1):C(S)?O=!1:S===I&&(O=!1,c--);else if(S===_e){for(;C(e.charCodeAt(c+1));)c++;O=!0;var q=e.charCodeAt(c+1);q===de||q===ve?(x=q,c++):x=0}else if(S===I){var le=r+(X?2:1),Ue=Math.min(we(e,le),c),n=e.slice(le,Ue).toLowerCase();n.charCodeAt(n.length-1)===V&&(n=n.slice(0,n.length-1));var P=E(n);if(X){var Xe=f.pop();if(Xe!==n)throw new Error("Invalid HTML: "+e);if(D.includes(n)&&!D.some(function(T){return f.includes(T)})){if(P)r=_,_=-1;else if(_=-1,o+=s,o>t)break}var qe=Y.includes(n);if(qe&&_===-1&&!P&&(v++,v>p)){f.push(n);break}}else if(ce.includes(n)||e.charCodeAt(c-1)===V){if(!P){if(n==="br"){if(v++,v>p)break}else if(n==="img"&&(o+=s,o>t))break}}else D.some(function(T){return f.includes(T)})||D.includes(n)&&(_=r),f.push(n);P&&_===-1?(e=e.slice(0,r)+e.slice(c+1),r--):r=c;break}}if(o>t||v>p)break}}else if(m===ue){for(var c=r+1,oe=!0;;){var ne=e.charCodeAt(c);if(J(ne))c++;else{if(ne===z)break;oe=!1;break}}if(_===-1&&(o++,o>t))break;oe&&(r=c)}else if(m===R){if(o++,o>t||(v++,v>p))break}else{if(_===-1&&(o++,o>t))break;if((m&64512)===55296){var F=e.charCodeAt(r+1);(F&64512)===56320&&r++}}}if(o>t){var L=Re(e,r);if(u){for(var A=r+L.length;e.charCodeAt(A)===W&&e.charCodeAt(A+1)===V;){var se=e.indexOf(">",A+2)+1;if(se)A=se;else break}A&&(A===e.length||Q(e,A))&&(r+=L.length,L=e.charAt(r))}for(;L==="<"&&e.charCodeAt(r+1)===V;){var n=f.pop();if(!n)break;var G=e.indexOf(">",r+2);if(G===-1||e.slice(r+2,G).trim()!==n)throw new Error("Invalid HTML: "+e);E(n)?e=e.slice(0,r)+e.slice(G+1):r=G+1,L=e.charAt(r)}if(r<e.length){if(!i.breakWords)for(var B=r-u.length;B>=0;B--){var m=e.charCodeAt(B);if(m===I||m===z)break;if(m===R||m===W){r=B;break}else if(C(m)){r=B+(u?1:0);break}}var he=e.slice(0,r);return Q(e,r)||(he+=u),b(he)}}else if(v>p)return b(e.slice(0,r));return e}function Ce(e,t,i){for(var l=i.indicator,s=l===void 0?"…":l,d=i.maxLines,u=d===void 0?1/0:d,y=s.length,p=1,h=0,g=e.length;h<g&&(y++,!(y>t));h++){var o=e.charCodeAt(h);if(o===R){if(p++,p>u)break}else if((o&64512)===55296){var v=e.charCodeAt(h+1);(v&64512)===56320&&h++}}if(y>t){var E=Z(e,h);if(s){var f=h+E.length;if(f===e.length)return e;if(e.charCodeAt(f)===R)return e.slice(0,h+E.length)}if(!i.breakWords)for(var b=h-s.length;b>=0;b--){var o=e.charCodeAt(b);if(o===R){h=b,E=`
`;break}else if(C(o)){h=b+(s?1:0);break}}return e.slice(0,h)+(E===`
`?"":s)}else if(p>u)return e.slice(0,h);return e}function we(e,t){for(var i=e.length,l=t;l<i;l++)if(C(e.charCodeAt(l)))return l;return i}function J(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function Q(e,t){var i=e.charCodeAt(t);if(i===R)return!0;if(i===W){var l="("+Y.join("|")+"|br)",s=new RegExp("^<"+l+`[	
\f\r ]*/?>`,"i");return s.test(e.slice(t))}else return!1}function C(e){return e===9||e===10||e===12||e===13||e===32}function Me(e){for(var t=e.length-1;t>=0;t--){var i=e[t];if(i==="li"||i==="td")return!1;if(i==="ol"||i==="table"||i==="ul")return!0}return!1}function Ae(e){return e.trim().replace(Ee," ")}function Z(e,t){var i=e.charCodeAt(t);if((i&64512)===55296){var l=e.charCodeAt(t+1);if((l&64512)===56320)return String.fromCharCode(i,l)}return String.fromCharCode(i)}function Re(e,t){var i=Z(e,t);if(i==="&")for(;;){t++;var l=e.charCodeAt(t);if(J(l))i+=String.fromCharCode(l);else if(l===z){i+=String.fromCharCode(l);break}else break}return i}const ye={methods:{async waitForElementHeight(e,t=3e3){return new Promise((i,l)=>{e.clientHeight&&i(e.clientHeight);const s=new ResizeObserver(()=>{e.clientHeight&&(i(e.clientHeight),s.disconnect())});s.observe(e,{childList:!0,subtree:!0,attribute:!0}),setTimeout(()=>{l(),s.disconnect()},t)})}}},Ke="",Ve=(e,t)=>{const i=e.__vccOpts||e;for(const[l,s]of t)i[l]=s;return i},ge={props:{truncateValue:{type:Number,default:null},onlyIfMoreThanValue:{type:Number,default:null},readMoreButtonText:{type:String,default:"Read more"},readLessButtonText:{type:String,default:"Read less"}},mixins:[ye],data:()=>({clippedHTML:"",expandHeightValue:null,collapseHeightValue:null,isExpanded:!1,readMoreButtonVisible:!1,isResized:!1,wrongContainerHeightValue:!1}),methods:{toggle(){this.isExpanded=!this.isExpanded,this.truncateMethod()},addReadMore(){this.matchTextLength().then(e=>{this.readMoreButtonVisible=e})},async matchTextLength(){return this.countCharacters()>this.onlyIfMoreThanValue&&this.truncateValue<this.countCharacters()},countCharacters(){return new DOMParser().parseFromString(this.htmlString,"text/html").querySelector("body").innerText.length},truncateCharacters(e){this.clippedHTML=be(this.htmlString,e,{html:!0})},truncateMethod(){this.expandHeightValue-this.collapseHeightValue<=15&&!this.initialTruncate&&(this.resetHeight(),this.wrongContainerHeightValue=!0),!this.isExpanded&&this.truncateOnlyIfMoreThan?(!this.initialTruncate&!this.isInViewport(this.$refs.scrollRef)&&this.$refs.scrollRef.scrollIntoView({behavior:"smooth",block:"center"}),this.truncateCharacters(this.truncateValue)):this.truncateCharacters(1e6),this.wrongContainerHeightValue&&(this.wrongContainerHeightValue=!1,this.expandHeight(),setTimeout(()=>{this.collapseHeight()},500)),this.initialTruncate=!1},resetHeight(){this.expandHeightValue="auto",this.collapseHeightValue="auto"},onResizeMethod(){this.wrongContainerHeightValue=!0,this.resetHeight()},expandHeight(){this.waitForElementHeight(this.$refs.htmlRef).then(()=>{var e;this.expandHeightValue=(e=this.$refs.htmlRef)==null?void 0:e.clientHeight}).catch(()=>{console.warn("Could not get clientHeight of element with ref: htmlRef")})},collapseHeight(){this.waitForElementHeight(this.$refs.contentBox).then(()=>{var e;this.collapseHeightValue=(e=this.$refs.contentBox)==null?void 0:e.clientHeight}).catch(()=>{console.warn("Could not get clientHeight of element with ref: contentBox")})},isInViewport(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}},async mounted(){this.initialTruncate=!0,this.truncateMethod(),this.addReadMore(),this.$nextTick(()=>{window.addEventListener("resize",this.onResizeMethod)}),this.expandHeight(),this.collapseHeight()},beforeDestroy(){window.removeEventListener("resize",this.onResizeMethod)},computed:{htmlString(){return this.$refs.htmlRef.innerHTML},displayHeight(){return this.expandHeightValue==="auto"||this.collapseHeightValue==="auto"?"height: auto":this.isExpanded&&this.expandHeightValue!=="auto"?`height: ${this.expandHeightValue}px`:`height: ${this.collapseHeightValue}px`},truncateOnlyIfMoreThan(){return this.countCharacters()>this.onlyIfMoreThanValue}}},j=e=>(a.pushScopeId("data-v-d0683042"),e=e(),a.popScopeId(),e),ke={class:"truncate-read-more"},Oe={ref:"scrollRef"},Se={style:{position:"relative"}},Le={ref:"htmlRef",style:{visibility:"hidden",position:"absolute","z-index":"-1"},class:"rte readmore__content readmore__content--htmlRef"},Be=["innerHTML"],De={key:0,class:"readmore-button-container",style:{"margin-top":"0.5rem"}},We={viewBox:"0 0 19 12",fill:"currentColor",style:{width:"9.3765px",height:"5.5855px","margin-right":"0.3rem","margin-bottom":"0.15rem"}},Ne=[j(()=>a.createElementVNode("path",{d:"M8.879.204a.702.702 0 0 1 1 0l8.672 8.6a.702.702 0 0 1 0 1l-1.16 1.16a.702.702 0 0 1-1 0L9.377 4.019l-7.014 6.943a.702.702 0 0 1-1 0l-1.16-1.16a.702.702 0 0 1 0-1L8.879.204z"},null,-1))],Fe={viewBox:"0 0 18.753 11.171",fill:"currentColor",style:{width:"9.3765px",height:"5.5855px","margin-right":"0.3rem","margin-bottom":"0.1rem"}},xe=[j(()=>a.createElementVNode("path",{d:"M8.879 10.964a.7.7 0 0 0 1 0l8.672-8.6a.7.7 0 0 0 0-1l-1.16-1.16a.7.7 0 0 0-1 0L9.377 7.149 2.363.206a.7.7 0 0 0-1 0l-1.16 1.16a.7.7 0 0 0 0 1z"},null,-1))];function Pe(e,t,i,l,s,d){return a.openBlock(),a.createElementBlock("div",ke,[a.createElementVNode("div",Oe,null,512),a.createElementVNode("div",Se,[a.createElementVNode("div",Le,[a.renderSlot(e.$slots,"html",{},void 0,!0)],512)]),a.createElementVNode("div",{ref:"contentBox",style:a.normalizeStyle(d.displayHeight),class:"rte readmore__content readmore__content--contentBox"},[a.createElementVNode("div",{innerHTML:e.isExpanded?d.htmlString:e.clippedHTML},null,8,Be)],4),e.readMoreButtonVisible?(a.openBlock(),a.createElementBlock("div",De,[e.isExpanded?(a.openBlock(),a.createElementBlock("div",{key:0,class:"truncate-read-more__button",onClick:t[0]||(t[0]=(...u)=>d.toggle&&d.toggle(...u))},[(a.openBlock(),a.createElementBlock("svg",We,Ne)),a.createTextVNode(" "+a.toDisplayString(i.readLessButtonText),1)])):a.createCommentVNode("",!0),e.isExpanded?a.createCommentVNode("",!0):(a.openBlock(),a.createElementBlock("div",{key:1,class:"truncate-read-more__button",onClick:t[1]||(t[1]=(...u)=>d.toggle&&d.toggle(...u))},[(a.openBlock(),a.createElementBlock("svg",Fe,xe)),a.createTextVNode(" "+a.toDisplayString(i.readMoreButtonText),1)]))])):a.createCommentVNode("",!0)])}const U=Ve(ge,[["render",Pe],["__scopeId","data-v-d0683042"]]),Ge={install:(e,t)=>{if(e.version.startsWith("2.")){const i=e,l={...U,install:void 0};i.component("TruncateReadMore",l)}else e.version.startsWith("3.")?e.component("TruncateReadMore",U):console.error("This plugin is only compatible with Vue 2.x and Vue 3.x.")}};H.TruncateReadMore=U,H.default=Ge,Object.defineProperties(H,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
